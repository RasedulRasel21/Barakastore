<!-- sections/comparison-table.liquid -->

<!-- HTML Structure -->
<section class="comparison-section">
  <div class="container">
    <h2 class="comparison-heading">{{ section.settings.heading }}</h2>
    
    <div class="comparison-table-wrapper">
      <table class="comparison-table">
        <thead>
          <tr>
            <th class="feature-col"></th>
            <th class="product-col primary">
              <span class="brand-name">{{ section.settings.brand_name }}</span>
            </th>
            <th class="product-col">{{ section.settings.competitor1_name }}</th>
            <th class="product-col">{{ section.settings.competitor2_name }}</th>
          </tr>
        </thead>
        <tbody>
          {% for block in section.blocks %}
            <tr {{ block.shopify_attributes }}>
              <td class="feature-name">{{ block.settings.feature_name }}</td>
              <td class="check-cell primary">
                {% if block.settings.has_feature_brand %}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="#2d9ca5">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                  </svg>
                {% else %}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="#999">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                  </svg>
                {% endif %}
              </td>
              <td class="check-cell">
                {% if block.settings.has_feature_comp1 %}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="#2d9ca5">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                  </svg>
                {% else %}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="#999">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                  </svg>
                {% endif %}
              </td>
              <td class="check-cell">
                {% if block.settings.has_feature_comp2 %}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="#2d9ca5">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                  </svg>
                {% else %}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="#999">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                  </svg>
                {% endif %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- CSS Styles -->
<style>
  .comparison-section {
    background: {{ section.settings.background_color }};
    padding: 80px 20px;
  }

  .comparison-section .container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .comparison-heading {
    font-size: 32px;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 40px;
    text-align: center;
  }

  .comparison-table-wrapper {
    overflow-x: auto;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .comparison-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    min-width: 600px;
  }

  .comparison-table thead {
    background: #9b30a4;
  }

  .comparison-table th {
    padding: 20px 15px;
    text-align: center;
    font-weight: 600;
    color: white;
  }

  .comparison-table th.feature-col {
    background: #9b30a4;
    text-align: left;
    min-width: 200px;
  }

  .comparison-table th.primary {
    background: #9b30a4;
  }

  .brand-name {
    display: inline-block;
    font-size: 16px;
  }

  .comparison-table tbody tr {
    border-bottom: 1px solid #e0e0e0;
  }

  .comparison-table tbody tr:hover {
    background: #f9f9f9;
  }

  .comparison-table td {
    padding: 18px 15px;
    text-align: center;
  }

  .feature-name {
    text-align: left !important;
    font-weight: 500;
    color: #333;
  }

  .check-cell {
    text-align: center;
  }

  .check-cell.primary {
    background: #e8f4f5;
  }

  @media (max-width: 768px) {
    .comparison-heading {
      font-size: 24px;
    }
  .comparison-section {
    padding: 40px 20px;
  }
    .comparison-table th,
    .comparison-table td {
      padding: 12px 8px;
      font-size: 14px;
    }
  }
</style>

<!-- Schema -->
{% schema %}
{
  "name": "Comparison Table",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "What Sets the Knee Relief Massager Apart from Regular Knee Massagers and Medications?"
    },
    {
      "type": "text",
      "id": "brand_name",
      "label": "Your Brand Name",
      "default": "norelie"
    },
    {
      "type": "text",
      "id": "competitor1_name",
      "label": "Competitor 1 Name",
      "default": "OTHER"
    },
    {
      "type": "text",
      "id": "competitor2_name",
      "label": "Competitor 2 Name",
      "default": "Medications"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f8f8f8"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature Row",
      "settings": [
        {
          "type": "text",
          "id": "feature_name",
          "label": "Feature Name",
          "default": "Lasting Pain Relief"
        },
        {
          "type": "checkbox",
          "id": "has_feature_brand",
          "label": "Your Brand Has This",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "has_feature_comp1",
          "label": "Competitor 1 Has This",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "has_feature_comp2",
          "label": "Competitor 2 Has This",
          "default": false
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Comparison Table",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "feature_name": "Lasting Pain Relief",
            "has_feature_brand": true,
            "has_feature_comp1": false,
            "has_feature_comp2": false
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_name": "Drug Free",
            "has_feature_brand": true,
            "has_feature_comp1": true,
            "has_feature_comp2": false
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_name": "Hands-Free",
            "has_feature_brand": true,
            "has_feature_comp1": false,
            "has_feature_comp2": false
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_name": "Over-the-Knee Design",
            "has_feature_brand": true,
            "has_feature_comp1": false,
            "has_feature_comp2": false
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_name": "Customizable Settings",
            "has_feature_brand": true,
            "has_feature_comp1": false,
            "has_feature_comp2": false
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_name": "Portable Convenience",
            "has_feature_brand": true,
            "has_feature_comp1": false,
            "has_feature_comp2": false
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_name": "Safe for Daily Use",
            "has_feature_brand": true,
            "has_feature_comp1": false,
            "has_feature_comp2": false
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_name": "Quick Pain Relief",
            "has_feature_brand": true,
            "has_feature_comp1": false,
            "has_feature_comp2": false
          }
        }
      ]
    }
  ]
}
{% endschema %}